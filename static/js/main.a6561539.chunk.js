(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{213:function(e,t,a){e.exports=a(456)},218:function(e,t,a){},220:function(e,t,a){},344:function(e,t,a){},453:function(e,t,a){},456:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),n=a(20),o=a.n(n),i=(a(218),a(219),a(15)),c=a(16),d=a(18),p=a(17),l=a(19),m=(a(220),a(460)),u=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(z,{client:"Email",hashedPassword:this.props.hashedPassword,storeAttempts:this.props.storeAttempts})}}]),t}(s.Component),h=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(z,{client:"Bank",hashedPassword:this.props.hashedPassword,storeAttempts:this.props.storeAttempts})}}]),t}(s.Component),f=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(z,{client:"Shopping",hashedPassword:this.props.hashedPassword,storeAttempts:this.props.storeAttempts})}}]),t}(s.Component),w=a(153);w.initializeApp({apiKey:"AIzaSyDuK3yBJJRWrrRJ_sTkMqDYZoTfbxGE6DI",authDomain:"password-generator-e4e47.firebaseapp.com",databaseURL:"https://password-generator-e4e47.firebaseio.com",projectId:"password-generator-e4e47",storageBucket:"password-generator-e4e47.appspot.com",messagingSenderId:"723298110874"});var b=w.database(),v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).attemptDetails=[],a.dataSaved=!1,a.userId=Math.floor(9e4*Math.random())+1e4,a.state={currentScreen:0,emailHashedPassword:"",bankHashedPassword:"",shoppingHashedPassword:""},a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){this.state.currentScreen>=6&&!this.dataSaved&&this.saveDataToFirebase()}},{key:"saveDataToFirebase",value:function(){var e=this;this.dataSaved=!0,console.log(this.attemptDetails);var t=0,a=0,s=0,r=0,n=0,o=0;this.attemptDetails.forEach(function(i){var c=!0;"success"===i.attempt?(a+=1,n+=i.time):(s+=1,o+=i.time,c=!1),t+=1,r+=i.time,b.ref("attempts/"+e.userId).set({user_id:e.userId,time:i.time,success:c})});var i=r/t,c=0;a&&(c=n/a);var d=0;s&&(d=o/s),b.ref("summaries/"+this.userId).set({user_id:this.userId,total_logins:t,successful_logins:a,failed_logins:s,average_success_time:c,average_login_time:i,average_failed_time:d})}},{key:"nextScreen",value:function(){var e=this.state.currentScreen;this.setState({currentScreen:e+1})}},{key:"saveHashedPassword",value:function(e){var t=this.state.currentScreen;switch(t){case 0:this.setState({emailHashedPassword:e,currentScreen:t+1});break;case 1:this.setState({bankHashedPassword:e,currentScreen:t+1});break;case 2:this.setState({shoppingHashedPassword:e,currentScreen:t+1})}}},{key:"saveAttempts",value:function(e){var t=this;e.forEach(function(e){t.attemptDetails.push(e)}),this.setState({currentScreen:this.state.currentScreen+1})}},{key:"render",value:function(){var e=[r.a.createElement(F,{confirmPassword:this.saveHashedPassword.bind(this)}),r.a.createElement(H,{confirmPassword:this.saveHashedPassword.bind(this)}),r.a.createElement(I,{confirmPassword:this.saveHashedPassword.bind(this)}),r.a.createElement(u,{hashedPassword:this.state.emailHashedPassword,storeAttempts:this.saveAttempts.bind(this)}),r.a.createElement(h,{hashedPassword:this.state.bankHashedPassword,storeAttempts:this.saveAttempts.bind(this)}),r.a.createElement(f,{hashedPassword:this.state.shoppingHashedPassword,storeAttempts:this.saveAttempts.bind(this)}),r.a.createElement(m.a,{title:"Thanks!"})],t=this.state.currentScreen;return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,{title:"User ID: "+this.userId},e[t]))}}]),t}(s.Component),P=(a(344),a(461)),j=a(70),O=a(37),y=a(458),E=a(457),g=a(459),S=a(116),k=a(69),D=a.n(k),A=a(50);var T="https://wordsapiv1.p.rapidapi.com",C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(P.a.success(a.props.client+" Password Saved"),a.props.confirmPassword(Object(A.MD5)(t.password)))})},a.state={client:a.props.client,password:"",hashed_password:""},a.generatePassword(),a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"generatePassword",value:function(){var e=this,t={"X-RapidAPI-Key":"550cee20f6msh253d7e0120b4dedp12fda9jsnf7740ee04a0c","X-RapidAPI-Host":"wordsapiv1.p.rapidapi.com"},a={random:"true",partOfSpeech:"adjective",frequencyMin:"5",syllablesMin:"2",syllablesMax:"4",lettersMax:"8",lettersMin:"4"},s="";""===this.state.password&&(D.a.get(T+"/words/",{headers:t,params:a}).then(function(e){return s+=e.data.word+"-",a.partOfSpeech="verb",D.a.get(T+"/words/",{headers:t,params:a})}).then(function(e){return s+=e.data.word+"-",a.partOfSpeech="verb",D.a.get(T+"/words/",{headers:t,params:a})}).then(function(e){return s+=e.data.word+"-",a.partOfSpeech="adjective",D.a.get(T+"/words/",{headers:t,params:a})}).then(function(e){return s+=e.data.word+"-",a.partOfSpeech="noun",D.a.get(T+"/words/",{headers:t,params:a})}).then(function(t){s+=t.data.word,e.setState({password:s,hashed_password:Object(A.MD5)(s).words})}),this.setState({password:s,hashed_password:Object(A.MD5)(s).words}))}},{key:"componentDidMount",value:function(){this.props.form.validateFields()}},{key:"correctPassword",value:function(e,t,a){var s=this;t?setTimeout(function(){t!==s.state.password?a([new Error("Password Doesnt Match")]):a()},1e3):a()}},{key:"render",value:function(){var e,t=this.props.form,a=t.getFieldDecorator,s=t.getFieldsError,n=t.getFieldError,o=(0,t.isFieldTouched)("password")&&n("password"),i=this.state.client;return r.a.createElement("div",{className:"PasswordConfirmation"},r.a.createElement(m.a,{title:"Password Creation "+i},r.a.createElement(j.a,{className:"PasswordForm"},r.a.createElement(O.a,{span:14},r.a.createElement(y.a,{title:i+" Password: "+this.state.password},r.a.createElement(E.a,{onSubmit:this.handleSubmit},r.a.createElement(E.a.Item,{validateStatus:o?"error":"",help:o||""},a("password",{rules:[{message:"Password doesn't match",validator:this.correctPassword.bind(this)},{required:!0,message:"Please input your password"}]})(r.a.createElement(g.a,{placeholder:"Password",spellCheck:"false"}))),r.a.createElement(E.a.Item,null,r.a.createElement(S.a,{type:"primary",htmlType:"submit",disabled:(e=s(),Object.keys(e).some(function(t){return e[t]}))},"Confirm"))))))))}}]),t}(s.Component),x=E.a.create({name:"horizontal_login"})(C),F=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(x,{client:"Email",confirmPassword:this.props.confirmPassword})}}]),t}(s.Component),H=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(x,{client:"Bank",confirmPassword:this.props.confirmPassword})}}]),t}(s.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(x,{client:"Shopping",confirmPassword:this.props.confirmPassword})}}]),t}(s.Component),_=a(208),M=a(14);a(453);var R=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.props,s=t.client,r=t.form,n=r.getFieldValue("password"),o=Object(A.MD5)(n),i=new Date-a.startTime;if(a.compareHashedPassword(o))r.validateFields(function(e,t){if(!e){var r=a.state.attempts;r[a.state.currentAttempt]=1;var n=a.state.attemptDetails;n.push({attempt:"success",time:i}),a.setState({attempts:r,currentAttempt:a.state.currentAttempt+1,attemptDetails:n}),P.a.success(s+" Password Correct");var o=a.props.storeAttempts,c=a.state.attemptDetails;setTimeout(function(){o(c)},1e3)}});else{a.props.form.setFields(Object(_.a)({},"password",{value:""})),P.a.error("Wrong Password");var c=a.state.attempts;c[a.state.currentAttempt]=-1;var d=a.state.attemptDetails;if(d.push({attempt:"failure",time:i}),a.setState({attempts:c,currentAttempt:a.state.currentAttempt+1,attemptDetails:d}),a.state.currentAttempt>=2){var p=a.props.storeAttempts,l=a.state.attemptDetails;setTimeout(function(){p(l)},1e3)}a.startTime=new Date}},a.state={client:a.props.client,hashedPassword:a.props.hashedPassword,currentAttempt:0,attempts:[0,0,0],attemptDetails:[]},a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.form.validateFields(),this.startTime=new Date}},{key:"compareHashedPassword",value:function(e){var t=this.props.hashedPassword,a=e.toString(A.enc.Hex);return t.toString(A.enc.Hex)===a}},{key:"render",value:function(){var e,t=this.props.form,a=t.getFieldDecorator,s=t.getFieldsError,n=t.getFieldError,o=(0,t.isFieldTouched)("password")&&n("password"),i=this.state,c=i.client,d=i.attempts,p=[];return d.forEach(function(e,t){switch(e){case-1:p[t]=r.a.createElement(M.a,{type:"close-circle",theme:"twoTone",twoToneColor:"#f5222d",style:{fontSize:"32px",marginLeft:"10x",marginRight:"10px"},key:t});break;case 0:p[t]=r.a.createElement(M.a,{type:"minus-circle",style:{fontSize:"32px",marginLeft:"10x",marginRight:"10px"},key:t});break;case 1:p[t]=r.a.createElement(M.a,{type:"check-circle",theme:"twoTone",twoToneColor:"#52c41a",style:{fontSize:"32px",marginLeft:"10x",marginRight:"10px"},key:t})}}),r.a.createElement("div",{className:"PasswordTest"},r.a.createElement(m.a,{title:"Password Test "+c},r.a.createElement(j.a,{className:"PasswordForm"},r.a.createElement(O.a,{span:14},r.a.createElement(y.a,{title:c+" Password "},r.a.createElement(E.a,{onSubmit:this.handleSubmit},r.a.createElement(E.a.Item,{validateStatus:o?"error":"",help:o||""},a("password",{rules:[{required:!0,message:"Please input your password"}]})(r.a.createElement(g.a,{placeholder:"Password",spellCheck:"false"}))),r.a.createElement(E.a.Item,null,r.a.createElement(S.a,{type:"primary",htmlType:"submit",disabled:(e=s(),Object.keys(e).some(function(t){return e[t]}))},"Check"))),r.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center"}},p))))))}}]),t}(s.Component),z=E.a.create({name:"horizontal_login"})(R),B=a(209),J=a(58);t.default=function(){return r.a.createElement(B.a,null,r.a.createElement(J.c,null,r.a.createElement(J.a,{exact:!0,path:"/",components:v})))};o.a.render(r.a.createElement(v,null),document.getElementById("root"))}},[[213,1,2]]]);
//# sourceMappingURL=main.a6561539.chunk.js.map